		  README FILE FOR SPIM, XSPIM, and PCSPIM
		  =======================================

This directory contains SPIM--an assembly language MIPS R2000/R3000
simulator.


SPIM is copyrighted by James R. Larus and distributed under the
following conditions:

    You may make copies of SPIM for your own use and modify those copies.

    All copies of SPIM must retain my name and copyright notice.

    You may not sell SPIM or distribute SPIM in conjunction with a
    commercial product or service without the expressed written consent of
    James Larus.

THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR IMPLIED
WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.




		       BUILDING SPIM FOR UNIX SYSTEMS
		       ==============================

These instructions explain how to compile and install spim and xspim on a
Unix system.  It is not necessary to compile spim for PCs, as the web site
has precompiled versions.

To build spim, change to the directory "spim". To build xspim, change to the
directory "xspim".

To make SPIM, you must first run the Configure script:

	% Configure

Note: Configure compiles a program with the C compiler (cc).  If you want it
to use another compiler, set the environment variable CC to its name, e.g.:

	% setenv CC gcc


Next, edit the first few non-comment lines of the Makefile to set the
pathnames for your system:

	EXCEPTION_DIR  -- The full pathname of the directory in which to
		     install the SPIM exception handler.

	BIN_DIR   -- The full pathname of the directory in which spim and
		     xspim should be installed.

	MAN_DIR   -- The full pathname of the directory in which the manual
		     pages for spim and xspim should be installed.

In general, the remaining parameters need not be changed.


If you are building spim edit Makefile (or Makefile.cygwin, if you are
compiling with Cygwin on Windows) and type

	% make Makefile test
or
	% make -f Makefile.cygwin test


If you want an X-window version of SPIM, go to the xspim directory.  Edit
Imakefile (or Makefile.std if you don't have xmkmf installed on your system,
but beware that you may need to heavily edit this file).

Then, if using Imakefile type:

	% xmkmf
	% make

Then type:
	% make xspim


To run spim or xspim, the exception handler code must be installed in the
directory specified by the variable EXCEPTION_DIR in the Makefile.  If the file
exceptions.s is not installed, spim and xspim fail with a message before
they start running.  You can either install this file by hand or by typing

	% make install

which also installs spim, xspim, and the manual pages in the directories that you set (above).


To test that spim is correctly built, type

	% make test

and examine the output of the test.  (Note: the exception handler must be
installed before running the test.)


			      SPIM ON WINDOWS
			      ===============

SPIM works well on Windows.  You can easily build spim (the non-windowing
version) using the Cygwin port of the GNU tools (see www.cygwin.com). 

The Windows version of spim is called PCSpim and is distributed through:

	www.cs.wisc.edu/~larus/spim.html



			 NEW VERSIONS OF SPIM
			 ===================

I generally release new version of SPIM once a year, before a semester
boundary (late August or early January).  The new version are available
through:

		www.cs.wisc.edu/~larus/spim.html



This directory contains several files and subdirectories:

README	This file.

VERSION
	Version number of system.

ChangeLog
	Record of changes to spim code.


Documentation/TeX
	TeX document that describes SPIM.

Documentation/H_P_AppendixA
	Copy of Appendix A from Hennessey & Patterson's book "Computer
Organization and Design". This more up-to-date than the TeX documentation.

PCSpim
	Microsoft Windows interface to SPIM

Setup
	Installer code for PCSpim.

spim
	Terminal interfaces to spim (Windows, Unix, and Mac).

Tests
	Subdirectory contain torture tests to verify that SPIM works.

xspim
	X-Windows interface to spim (Unix and Mac).



		  WHAT ABOUT SPIM ON SYSTEM XYZ?
		  ==============================

SPIM should run without many changes on many Unix systems.  Obviously,
I have not tested SPIM on many system, nor can I port SPIM to systems
that I don't have.  However, I would like to hear about the changes
necessary to run SPIM on your favorite system.

James Larus
Microsoft Research
(larus@microsoft.com)
